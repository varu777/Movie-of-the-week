(this.webpackJsonpmovie=this.webpackJsonpmovie||[]).push([[0],{18:function(e,t){var n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.exports=function(e){return e=new Date(e),n[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()}},38:function(e,t,n){},58:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},83:function(e,t,n){},86:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n(0),i=n.n(a),o=n(22),r=n.n(o),c=(n(58),n(38),n(9)),l=n(10),d=n(12),u=n(11),h=n(7),j=n.n(h),b=n(6),p=(n(76),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={movieSuggestion:"",movieNote:""},e.submitSuggestion=function(){if(0!==e.state.movieSuggestion.length){var t=e.state.movieSuggestion;j()({method:"post",url:"https://movieotw.herokuapp.com/SuggestMovie",data:{movie:t.trim(),movieNote:e.state.movieNote},withCredentials:!0}).then((function(t){t.data.success?(e.setState({movieSuggestion:"",movieNote:""}),window.alert("Successfully added "+t.data.val+".\nMovie ID: "+t.data.movieIdx)):window.alert(t.data.val)})).catch((function(e){console.log(e)}))}else window.alert("Movie name cannot be empty.")},e.updateMovie=function(t){e.setState({movieSuggestion:t.target.value})},e.updateUser=function(t){e.setState({user:t.target.value})},e.updateNote=function(t){e.setState({movieNote:t.target.value})},e.showReviewForm=function(){window.alert("clicked")},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:" Suggest a Movie "}),Object(s.jsx)("label",{style:{marginRight:"1vw"},children:" Movie Title: "}),Object(s.jsx)("input",{value:this.state.movieSuggestion,onChange:this.updateMovie}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{onClick:this.submitSuggestion,children:" Suggest "})]})}}]),n}(i.a.Component)),g=(n(77),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={displayReviewForm:!1,reviewSubmitted:!1,reviewScoreInput:-1,finalReviewScore:-1,user:""},e.displayReviewForm=function(){e.setState({displayReviewForm:!0})},e.cancelReview=function(){e.setState({displayReviewForm:!1})},e.updateReviewScore=function(t){e.setState({reviewScore:t.target.value})},e.updateUser=function(t){e.setState({user:t.target.value})},e.submitReview=function(){try{var t=parseFloat(e.state.reviewScore);window.alert(t)}catch(n){return void window.alert("Error")}e.setState({reviewSubmitted:!0})},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("p",{children:[" Movie title: ",this.props.movieTitle," "]}),Object(s.jsxs)("p",{children:[" Suggested by: ",this.props.addedBy," "]}),Object(s.jsxs)("p",{children:[" Watched on: ",this.props.dateWatched," "]}),Object(s.jsxs)("p",{children:[" Teaser Note: ",this.props.teaser," "]})]})}}]),n}(i.a.Component)),m=n(18),v=n.n(m),w=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={isMovieSelected:!1,movieOTW:"",userOTW:"",date:"",noteOTW:"",description:"",posterLink:"",previousMovies:[],currentPool:[],upcomingMovies:[],recentUpdates:[],isLoading:!0,loggedIn:!1},e.updateMovieSort=function(t,n){var s=n.target.value;j()({method:"post",url:"http://localhost:9000/SortMovies",data:{sortBy:s,movieType:t},withCredentials:!0}).then((function(n){"watched"===t?e.setState({previousMovies:n.data.movies}):e.setState({upcomingMovies:n.data.movies})})).catch((function(e){window.alert("Unable to apply filter: "+e)}))},e.updateFormat=function(){window.alert("starting"),j()({method:"post",url:"http://localhost:9000/UpdateFormat",data:{},withCredentials:!0})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;j()({method:"get",url:"http://localhost:9000/HomeData",withCredentials:!0}).then((function(t){var n=t.data.movieOTW,s=t.data.user,a=0!==n.watchOTW.length,i=t.data.watchedMovies;e.setState({previousMovies:i,isMovieSelected:a,movieOTW:n.watchOTW,userOTW:s,noteOTW:n.note,genre:n.genre,rating:n.rating,posterLink:n.posterLink,runtime:n.runtime,upcomingMovies:t.data.upcomingMovies,description:n.description,currentPool:t.data.currentPool,recentUpdates:t.data.recentUpdates,isLoading:!1,imgLoaded:!1})})).catch((function(e){window.alert("Unable to load home data: "+e)})),this.setState({loggedIn:this.context})}},{key:"render",value:function(){var e=this;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{style:{display:1==this.state.imgLoaded?"grid":"none"},className:"App",children:[Object(s.jsxs)("div",{style:{gridRow:"1",marginTop:"15px"},children:[Object(s.jsx)("h1",{className:"title",children:"Selected Movie "}),this.state.isMovieSelected?Object(s.jsxs)("div",{className:"motw-container borders",children:[Object(s.jsxs)("h1",{className:"title",children:[" ",this.state.movieOTW," "]}),Object(s.jsxs)("h4",{children:[" ",this.state.date," "]}),Object(s.jsxs)("p",{children:[" Location: ",Object(s.jsx)("a",{style:{textDecoration:"underline"},href:"https://zoom.us/j/97457711739?pwd=Z2x3K3l5OUVTQVJmNDBkRGNqWHdjZz09",children:"Zoom Link"})]}),Object(s.jsxs)("p",{className:"addedBy",children:[" Added by ",this.state.userOTW," "]}),0===this.state.noteOTW.length?null:Object(s.jsxs)("p",{children:[" Teaser: ",this.state.noteOTW," "]}),Object(s.jsx)("img",{style:{height:"45%",width:"45%"},onLoad:function(){e.setState({imgLoaded:!0})},src:this.state.posterLink}),Object(s.jsxs)("div",{className:"description-container",children:[Object(s.jsx)("p",{style:{marginBottom:"-.5px"},children:" Description: "}),Object(s.jsxs)("p",{children:[" ",this.state.description," "]}),Object(s.jsxs)("p",{children:[" Genre: ",this.state.genre," | Runtime: ",this.state.runtime," | Rated ",this.state.rating]})]})]}):Object(s.jsx)("p",{style:{textAlign:"center"},children:" No movie selected yet for this week."})]}),Object(s.jsx)("br",{}),Object(s.jsx)("div",{style:{gridRow:"1",textAlign:"center"},children:Object(s.jsxs)("div",{style:{marginTop:"15px"},className:"center",children:[Object(s.jsxs)("div",{style:{float:"right"},children:[Object(s.jsx)("h1",{className:"title",children:" Statistics "}),Object(s.jsxs)("p",{children:["Total Movies Suggested: ",this.state.upcomingMovies.length+this.state.previousMovies.length," "]}),Object(s.jsxs)("p",{children:["Movies Watched: ",this.state.previousMovies.length," "]}),Object(s.jsxs)("p",{children:["Upcoming Movies: ",this.state.upcomingMovies.length," "]}),Object(s.jsxs)("p",{children:["Current Pool Size: ",this.state.currentPool.length," "]}),Object(s.jsx)("p",{children:"Members: 7 "})]}),Object(s.jsx)(p,{}),Object(s.jsx)("h1",{style:{marginTop:"15px"},children:" Current Pool "}),this.state.currentPool.map((function(e,t){return Object(s.jsxs)("p",{children:[" ",e.suggestion," - ",e.name," "]},t)})),Object(s.jsx)("h1",{style:{marginTop:"15px"},children:" Recent Updates "}),this.state.recentUpdates.map((function(e,t){return 1==e.watched?Object(s.jsxs)("p",{children:[" ",Object(s.jsx)("a",{style:{color:"#90EE90"},children:" Movie Watched: "})," ",Object(s.jsxs)("a",{style:{color:"#FF7F50"},children:[" ",e.name," "]})," was watched on ",v()(e.date)]}):Object(s.jsxs)("p",{children:[" ",Object(s.jsx)("a",{style:{color:"Salmon"},children:" Movie Added: "})," ",Object(s.jsxs)("a",{style:{color:"#87CEFA"},children:[" ",e.addedBy," "]}),"recommended ",Object(s.jsxs)("a",{style:{color:"#FF7F50"},children:[" ",e.name," "]})," on ",v()(e.date)]},t)}))]})}),Object(s.jsxs)("div",{style:{gridRow:"2",textAlign:"center"},children:[Object(s.jsx)("h1",{children:" Upcoming Movies "}),Object(s.jsx)("label",{style:{marginRight:".5vw"},children:" Sort by "}),Object(s.jsxs)("select",{name:"Name",defaultValue:"Date-Descending",onChange:function(t){e.updateMovieSort("upcoming",t)},children:[Object(s.jsx)("option",{value:"recent",children:"Recent First"}),Object(s.jsx)("option",{value:"oldest",children:"Oldest First"}),Object(s.jsx)("option",{value:"name",children:"Movie Name"}),Object(s.jsx)("option",{disabled:!0,value:"o-rating",children:"Overall Ratings"}),Object(s.jsx)("option",{disabled:!0,value:"u-rating",children:"My Ratings"})]}),this.state.upcomingMovies.map((function(e,t){return Object(s.jsx)("div",{children:Object(s.jsx)(g,{movieTitle:e.name,teaser:e.teaser,addedBy:e.addedBy,dateWatched:v()(e.date)},t)})}))]}),Object(s.jsxs)("div",{style:{gridRow:"2",textAlign:"center"},children:[Object(s.jsx)("h1",{children:" Movies Watched so Far "}),Object(s.jsx)("label",{style:{marginRight:".5vw"},children:" Sort by "}),Object(s.jsxs)("select",{name:"Name",defaultValue:"Date-Descending",onChange:function(t){e.updateMovieSort("watched",t)},children:[Object(s.jsx)("option",{value:"recent",children:"Recent First"}),Object(s.jsx)("option",{value:"oldest",children:"Oldest First"}),Object(s.jsx)("option",{value:"name",children:"Movie Name"}),Object(s.jsx)("option",{disabled:!0,value:"o-rating",children:"Overall Ratings"}),Object(s.jsx)("option",{disabled:!0,value:"u-rating",children:"My Ratings"})]}),this.state.previousMovies.map((function(e,t){return Object(s.jsx)(g,{movieTitle:e.name,teaser:e.teaser,addedBy:e.addedBy,dateWatched:v()(e.date)},t)}))]}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{onClick:this.updateFormat,children:" Update "})]})})}}]),n}(i.a.Component),O=Object(b.o)(w),x=n(37),f=i.a.createContext({loggedin:!1,currentUser:{}}),y=i.a.createContext(!0),C=function(e){var t=e.children,n=Object(a.useContext)(f),i=Object(a.useState)(n),o=Object(x.a)(i,2),r=o[0],c=o[1],l=Object(a.useState)(!0),d=Object(x.a)(l,2),u=d[0],h=d[1],b=function(){return j()({method:"get",url:"http://localhost:9000/loginCheck",withCredentials:!0}).then((function(e){e.data.isLoggedIn?c({loggedIn:!0,currentUser:e.data.currentUser}):c({loggedIn:!1,currentUser:{}}),h(!1)})).catch((function(e){window.alert("Unable to load home data: "+e),c({loggedIn:!1,currentUser:{}}),h(!1)}))};return Object(a.useEffect)((function(){b()}),[]),u?Object(s.jsx)(s.Fragment,{children:" "}):Object(s.jsx)(y.Provider,{value:b,children:Object(s.jsx)(f.Provider,{value:r,children:t})})},S=(n(83),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={user:"",password:""},e.loginUser=function(t){t.preventDefault(),0!=e.state.user.length||0!=e.state.password.length?0!=e.state.user.length?0!=e.state.password.length?j()({method:"post",url:"http://localhost:9000/login",data:{username:e.state.user,password:e.state.password},withCredentials:!0}).then((function(t){t.data.success?(localStorage.setItem("loggedIn",!0),(0,e.context)().then((function(){e.props.history.push("/"),window.location.reload()}))):window.alert(t.data.message)})).catch((function(e){window.alert("Error signing in: "+e)})):window.alert("Password field cannot be empty."):window.alert("Email/Username field cannot be empty."):window.alert("Both fields cannot be empty.")},e.updateUser=function(t){e.setState({user:t.target.value})},e.updatePass=function(t){e.setState({password:t.target.value})},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"login-container",children:[Object(s.jsx)("h1",{className:"title",children:" Login "}),Object(s.jsxs)("form",{onSubmit:this.loginUser,children:[Object(s.jsx)("input",{placeholder:"Username or Email",onChange:this.updateUser}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"password",placeholder:"Password",onChange:this.updatePass}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{type:"submit",children:" Login "})]}),Object(s.jsx)("br",{})]})})}}]),n}(i.a.Component));S.contextType=y;var M=Object(b.o)(S),P=n(94),U=n(96),N=n(95),k=n(93),F=n(36),R=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={loggedIn:e.props.user.loggedIn,currentUser:null===e.props.user.currentUser?"":e.props.user.currentUser.username},e.logout=function(){j()({method:"get",url:"http://localhost:9000/logout",withCredentials:!0,loggedIn:e.context.loggedIn}).then((function(t){t.data.success?(e.setState({loggedIn:!1}),localStorage.setItem("loggedIn",!1),window.location.reload()):window.alert("Unable to logout, please try again.")})).catch((function(e){window.alert("Unable to logout: "+e)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.setState({loggedIn:this.props.user.loggedIn}),this.setState({currentUser:this.props.user.currentUser.username})}},{key:"render",value:function(){return Object(s.jsxs)(P.a,{bg:"dark",expand:"lg",children:[Object(s.jsx)(P.a.Brand,{style:{color:"salmon"},href:"/",children:"Movie Of The Week"}),Object(s.jsx)(P.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(s.jsxs)(P.a.Collapse,{id:"basic-navbar-nav",children:[Object(s.jsxs)(U.a,{className:"mr-auto",children:[Object(s.jsx)(U.a.Link,{style:{color:"white",textDecoration:"underline"},href:"#home",children:"Leaderboard"}),Object(s.jsx)(U.a.Link,{style:{color:"white",textDecoration:"underline"},href:"/suggestions",children:"Suggestions"}),Object(s.jsx)(U.a.Link,{style:{color:"white",textDecoration:"underline"},href:"/watchedMovie",children:"Add to Watched List"})]}),Object(s.jsx)(N.a,{inline:!0,children:this.state.loggedIn?Object(s.jsxs)(s.Fragment,{children:[""===this.state.currentUser?Object(s.jsx)("p",{}):Object(s.jsxs)("p",{style:{marginRight:"10px",marginTop:"12px"},children:[" Welcome back, ",this.state.currentUser,"!"]}),Object(s.jsx)(F.LinkContainer,{style:{marginRight:"5px"},to:"/profile",children:Object(s.jsx)(k.a,{color:"blue",variant:"secondary",children:"Profile"})}),Object(s.jsx)(k.a,{onClick:this.logout,color:"blue",variant:"secondary",children:"Logout"})]}):Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(F.LinkContainer,{to:"/login",children:Object(s.jsx)(k.a,{color:"green",variant:"secondary",children:"Login"})})})})]})]})}}]),n}(i.a.Component),T=Object(b.o)(R),L=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={movieName:"",movies:[],selectedMovie:"Choose Movie",loading:!0},e.handleChange=function(t){e.setState({selectedMovie:t.target.value})},e.submitWatched=function(){console.log("submitting"),"Choose Movie"!==e.state.selectedMovie?j()({method:"post",url:"http://localhost:9000/movie/watchedMovie",data:{movie:e.state.selectedMovie},withCredentials:!0}).then((function(t){t.data.success?(window.alert("Added "+e.state.selectedMovie+" to watched list."),e.setState({movies:e.state.movies.filter((function(t){return t.name.trim()!==e.state.selectedMovie}))}),e.setState({selectedMovie:"Choose Movie"})):window.alert(t.data.val)})).catch((function(e){window.alert(e)})):window.alert("Invalid movie.")},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;j()({method:"get",url:"http://localhost:9000/movie/getMovies",withCredentials:!0}).then((function(t){t.data.success&&e.setState({movies:t.data.movies})})).catch((function(e){window.alert(e)})),this.setState({loading:!1})}},{key:"render",value:function(){return this.state.loading?Object(s.jsx)(s.Fragment,{}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{children:" Movie Name "}),Object(s.jsxs)("select",{value:this.state.selectedMovie,onChange:this.handleChange,children:[Object(s.jsx)("option",{selected:!0,disabled:!0,children:" Choose Movie "}),this.state.movies.map((function(e){return Object(s.jsxs)("option",{children:[" ",e.name," "]})}))]}),Object(s.jsx)("button",{onClick:this.submitWatched,children:" Submit "}),Object(s.jsx)("br",{})]})}}]),n}(i.a.Component),W=(n(86),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={enteredPool:!1,currentChoice:{},isLoading:!0,userMovies:[],otherMovies:[]},e.removeSuggestion=function(t){window.confirm("Remove "+t+"?")&&j()({method:"post",url:"http://localhost:9000/movie/removeSuggestion",data:{movie:t},withCredentials:!0}).then((function(n){n.data.success?(e.setState({userMovies:e.state.userMovies.filter((function(e){return e.name!==t}))}),window.alert("Successfully removed "+t+".")):window.alert(n.data.val)})).catch((function(e){window.alert("Unable to suggestions: "+e)}))},e.setAsNextChoice=function(t){if(t.name===e.state.currentChoice.name&&e.state.enteredPool)window.alert("Movie already set as current choice.");else if(window.confirm("Update current suggestion to "+t.name+"?")){if(e.setState({enteredPool:!0}),t.name==e.state.currentChoice)return void window.alert("hit");j()({method:"post",url:"http://localhost:9000/movie/updateSuggestion",data:{previous:e.state.currentChoice.name,new:t.name},withCredentials:!0}).then((function(n){n.data.success?e.setState({currentChoice:t}):window.alert(n.data.val)})).catch((function(e){window.alert("Unable to suggestions: "+e)}))}},e.enterPool=function(){j()({method:"post",url:"http://localhost:9000/user/enterPool",withCredentials:!0}).then((function(t){t.data.success?e.setState({enteredPool:!0}):window.alert(t.data.val)})).catch((function(e){window.alert("Unable to suggestions: "+e)}))},e.leavePool=function(){window.confirm("Leave current pool?")&&j()({method:"post",url:"http://localhost:9000/user/leavePool",withCredentials:!0}).then((function(t){t.data.success?e.setState({enteredPool:!1}):window.alert(t.data.val)})).catch((function(e){window.alert("Unable to suggestions: "+e)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;j()({method:"get",url:"http://localhost:9000/loadSuggestions",withCredentials:!0}).then((function(t){e.setState({enteredPool:t.data.enteredPool,userMovies:t.data.userMovies,otherMovies:t.data.otherMovies,currentChoice:t.data.currentChoice,isLoading:!1})})).catch((function(e){window.alert("Unable to suggestions: "+e)}))}},{key:"render",value:function(){var e=this;return this.state.isLoading?Object(s.jsx)(s.Fragment,{}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{className:"suggestion-title",children:" Current Choice "}),0==this.state.enteredPool?Object(s.jsxs)("div",{style:{textAlign:"center"},children:[Object(s.jsx)("p",{children:" Suggest a movie below to join the pool! "}),Object(s.jsx)("button",{style:{align:"center"},onClick:this.enterPool,children:" Choose Randomly "})]}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{style:{textAlign:"center"},children:Object(s.jsx)("p",{children:" Override this choice by suggesting a different movie. "})}),Object(s.jsxs)("div",{className:"suggestion-container",children:[Object(s.jsxs)("p",{children:[" ",this.state.currentChoice.name]}),Object(s.jsxs)("p",{children:[" Date added ",v()(this.state.currentChoice.date)," "]}),Object(s.jsxs)("p",{children:[" Added by ",this.state.currentChoice.addedBy," "]}),Object(s.jsx)("button",{onClick:function(){e.removeSuggestion(e.state.currentChoice.name)},children:" Delete "}),Object(s.jsx)("button",{onClick:this.leavePool,children:" Leave Pool "})]})]}),Object(s.jsx)("h1",{className:"suggestion-title",children:" My Unwatched Suggestions "}),this.state.userMovies.map((function(t,n){return Object(s.jsxs)("div",{className:"suggestion-container",children:[Object(s.jsxs)("p",{children:[" ",t.name," "]}),Object(s.jsxs)("p",{children:[" Added on ",v()(t.date)," "]}),Object(s.jsx)("button",{onClick:function(){e.removeSuggestion(t.name)},children:" Delete "}),Object(s.jsx)("button",{onClick:function(){e.setAsNextChoice(t)},children:" Suggest "})]},n)})),Object(s.jsx)("h1",{className:"suggestion-title",children:" What Everyone Else Wants to Watch "}),this.state.otherMovies.map((function(t,n){return Object(s.jsxs)("div",{className:"suggestion-container",children:[Object(s.jsxs)("p",{children:[" ",t.name," "]}),Object(s.jsxs)("p",{children:[" Date added ",v()(t.date)," "]}),Object(s.jsxs)("p",{children:[" Added by ",t.addedBy," "]}),Object(s.jsx)("button",{onClick:function(){e.setAsNextChoice(t)},children:" Suggest "})]},n)}))]})}}]),n}(i.a.Component)),A=n(28),D=n(52),I=function(e){var t=e.render,n=Object(D.a)(e,["render"]),i=Object(a.useContext)(f).loggedIn;return Object(s.jsx)(b.d,Object(A.a)(Object(A.a)({},n),{},{render:function(e){return i?Object(s.jsx)(t,Object(A.a)({},e)):Object(s.jsx)(b.c,{to:"/login"})}}))},E=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={email:"",currentPassword:"",newPassword:"",confirmNewPassword:"",username:""},e.updateEmail=function(t){e.setState({email:t.target.value})},e.updateUsername=function(t){e.setState({username:t.target.value})},e.updateCurrentPassword=function(t){e.setState({currentPassword:t.target.value})},e.updateNewPassword=function(t){e.setState({newPassword:t.target.value})},e.updateConfirmNewPassword=function(t){e.setState({confirmNewPassword:t.target.value})},e.submitEmailUpdate=function(){0!==e.state.email.length?e.state.email.includes("@")?j()({method:"post",url:"http://localhost:9000/user/updateEmail",data:{email:e.state.email},withCredentials:!0}).then((function(t){t.data.success?(window.alert("Email has successfully updated."),e.setState({email:""})):window.alert("Email did not update: "+t.data.val)})).catch((function(e){window.alert("Unable to update email: "+e)})):window.alert("Domain (@) not specified."):window.alert("Email field empty.")},e.submitUsernameUpdate=function(){0!==e.state.username.length?j()({method:"post",url:"http://localhost:9000/user/updateUsername",data:{username:e.state.username},withCredentials:!0}).then((function(t){t.data.success?(window.alert("Username has successfully updated."),e.setState({username:""})):window.alert("Username did not update, please try again.")})).catch((function(e){window.alert("Unable to update username: "+e)})):window.alert("Username field empty.")},e.submitPasswordUpdate=function(){0!==e.state.currentPassword.length?0!==e.state.newPassword.length?e.state.confirmNewPassword===e.state.newPassword?j()({method:"post",url:"http://localhost:9000/user/updatePassword",data:{newPassword:e.state.newPassword,currPassword:e.state.currentPassword},withCredentials:!0}).then((function(t){t.data.success?(window.alert("Password has successfully updated."),e.setState({currentPassword:""}),e.setState({newPassword:""}),e.setState({confirmNewPassword:""})):window.alert("Password did not update: "+t.data.val)})).catch((function(e){window.alert("Unable to update password: "+e)})):window.alert("New passwords did not match. Please try again."):window.alert("New password field is empty."):window.alert("Current password field is empty.")},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{children:" Update Email "}),Object(s.jsx)("input",{value:this.state.email,onChange:this.updateEmail}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{onClick:this.submitEmailUpdate,children:"Update Email "}),Object(s.jsx)("h1",{children:" Update Username "}),Object(s.jsx)("input",{value:this.state.username,onChange:this.updateUsername}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{onClick:this.submitUsernameUpdate,children:"Update Username"}),Object(s.jsx)("h1",{children:" Update Password "}),Object(s.jsx)("label",{children:" Current password "}),Object(s.jsx)("input",{value:this.state.currentPassword,type:"password",onChange:this.updateCurrentPassword}),Object(s.jsx)("br",{}),Object(s.jsx)("label",{children:" New Password "}),Object(s.jsx)("input",{value:this.state.newPassword,type:"password",onChange:this.updateNewPassword}),Object(s.jsx)("br",{}),Object(s.jsx)("label",{children:" Confirm New Password "}),Object(s.jsx)("input",{value:this.state.confirmNewPassword,type:"password",onChange:this.updateConfirmNewPassword}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{onClick:this.submitPasswordUpdate,children:"Update Password "})]})}}]),n}(i.a.Component),B=n(21);n(87).config();var J=function(){var e=Object(a.useContext)(f);return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(B.BrowserRouter,{children:[Object(s.jsx)(T,{user:e}),Object(s.jsx)(I,{exact:!0,path:"/",children:Object(s.jsx)(O,{})}),Object(s.jsx)(I,{exact:!0,path:"/suggestions",children:Object(s.jsx)(W,{})}),Object(s.jsx)(I,{exact:!0,path:"/profile",children:Object(s.jsx)(E,{})}),Object(s.jsx)(I,{exact:!0,path:"/watchedMovie",children:Object(s.jsx)(L,{})}),Object(s.jsx)(b.d,{exact:!0,path:"/login",children:Object(s.jsx)(M,{})})]})})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,97)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),s(e),a(e),i(e),o(e)}))};r.a.render(Object(s.jsx)(C,{children:Object(s.jsx)(B.BrowserRouter,{children:Object(s.jsx)(J,{})})}),document.getElementById("root")),V()}},[[90,1,2]]]);
//# sourceMappingURL=main.7e80f13c.chunk.js.map